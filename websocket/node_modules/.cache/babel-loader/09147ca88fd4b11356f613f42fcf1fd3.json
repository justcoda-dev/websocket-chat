{"remainingRequest":"C:\\Users\\justc\\Desktop\\front\\WEB SOCKET\\websocket\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\justc\\Desktop\\front\\WEB SOCKET\\websocket\\node_modules\\eslint-loader\\index.js??ref--14-0!C:\\Users\\justc\\Desktop\\front\\WEB SOCKET\\websocket\\src\\store\\modules\\user.js","dependencies":[{"path":"C:\\Users\\justc\\Desktop\\front\\WEB SOCKET\\websocket\\src\\store\\modules\\user.js","mtime":1643657137894},{"path":"C:\\Users\\justc\\Desktop\\front\\WEB SOCKET\\websocket\\babel.config.js","mtime":1639924488076},{"path":"C:\\Users\\justc\\Desktop\\front\\WEB SOCKET\\websocket\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\justc\\Desktop\\front\\WEB SOCKET\\websocket\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\justc\\Desktop\\front\\WEB SOCKET\\websocket\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJDOlxcVXNlcnNcXGp1c3RjXFxEZXNrdG9wXFxmcm9udFxcV0VCIFNPQ0tFVFxcd2Vic29ja2V0XFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZVxcaGVscGVyc1xcZXNtXFxkZWZpbmVQcm9wZXJ0eS5qcyI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkM6XFxVc2Vyc1xcanVzdGNcXERlc2t0b3BcXGZyb250XFxXRUIgU09DS0VUXFx3ZWJzb2NrZXRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lXFxoZWxwZXJzXFxlc21cXG9iamVjdFNwcmVhZDIuanMiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzpcXFVzZXJzXFxqdXN0Y1xcRGVza3RvcFxcZnJvbnRcXFdFQiBTT0NLRVRcXHdlYnNvY2tldFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWVcXGhlbHBlcnNcXGVzbVxcYXN5bmNUb0dlbmVyYXRvci5qcyI7Cgp2YXIgX211dGF0aW9uczsKCmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgeyB1bmlxdWVJZCwgZmluZFVzZXIsIHVzZXJzV2l0aG91dENsaWVudCB9IGZyb20gIi4vZnVuY3Rpb25zL3VzZXJGdW5jdGlvbnMiOwppbXBvcnQgeyBkYXRhYmFzZSB9IGZyb20gIi4uLy4uLy4uLy4uL3dlYnNvY2tldF9zZXJ2ZXIvZGF0YWJhc2UvYXBpIjsKaW1wb3J0IHsgc2VhcmNoQ29udGFjdFVzZXIgfSBmcm9tICIuL2Z1bmN0aW9ucy91c2VyRnVuY3Rpb25zIjsKdmFyIE1VVEFUSU9OX1RZUEUgPSB7CiAgUkVHSVNUUkFUSU9OOiAiUkVHSVNUUkFUSU9OIiwKICBMT0dJTjogIkxPR0lOIiwKICBDT05UQUNUX1VTRVJTOiAiQ09OVEFDVF9VU0VSUyIsCiAgU0VUX1VTRVJfRlJPTV9TVE9SQUdFOiAiU0VUX1VTRVJfRlJPTV9TVE9SQUdFIiwKICBVU0VSU19BRlRFUl9TRUFSQ0g6ICJVU0VSU19BRlRFUl9TRUFSQ0giCn07CmV4cG9ydCB2YXIgdXNlciA9IHsKICBhY3Rpb25zOiB7CiAgICBsb2dpbjogZnVuY3Rpb24gbG9naW4oX3JlZiwgdXNlcikgewogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBjb21taXQsIGFsbFVzZXJzLCB1c2VySXNSZWdpc3RlcmVkOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YWJhc2UuZ2V0QWxsVXNlcnMoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgYWxsVXNlcnMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgdXNlcklzUmVnaXN0ZXJlZCA9IGZpbmRVc2VyKGFsbFVzZXJzLCB1c2VyKTsKCiAgICAgICAgICAgICAgICBpZiAodXNlcklzUmVnaXN0ZXJlZCkgewogICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidXNlciIsIEpTT04uc3RyaW5naWZ5KHVzZXJJc1JlZ2lzdGVyZWQpKTsKICAgICAgICAgICAgICAgICAgY29tbWl0KE1VVEFUSU9OX1RZUEUuTE9HSU4sIHVzZXJJc1JlZ2lzdGVyZWQpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVnaXN0cmF0aW9uOiBmdW5jdGlvbiByZWdpc3RyYXRpb24oX3JlZjIsIHVzZXIpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgYWxsVXNlcnMsIHVzZXJJc1JlZ2lzdGVyZWQsIHVzZXJDb3B5LCBuZXdVc2VyOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YWJhc2UuZ2V0QWxsVXNlcnMoKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgYWxsVXNlcnMgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIHVzZXJJc1JlZ2lzdGVyZWQgPSBmaW5kVXNlcihhbGxVc2VycywgdXNlcik7CgogICAgICAgICAgICAgICAgaWYgKCF1c2VySXNSZWdpc3RlcmVkKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGNvbW1pdChNVVRBVElPTl9UWVBFLkxPR0lOLCB1c2VySXNSZWdpc3RlcmVkKTsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VyIiwgSlNPTi5zdHJpbmdpZnkodXNlcklzUmVnaXN0ZXJlZCkpOwogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxOTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgdXNlckNvcHkgPSBfb2JqZWN0U3ByZWFkKHt9LCB1c2VyKTsKICAgICAgICAgICAgICAgIHVzZXJDb3B5LnVzZXJJZCA9IHVuaXF1ZUlkKCk7CiAgICAgICAgICAgICAgICB1c2VyQ29weS5pY29uID0gImh0dHBzOi8vczE0LnN0Yy55Yy5rcGNkbi5uZXQvc2hhcmUvaS8xMi8xMjE4OTUyMC93ci05NjAud2VicCI7CiAgICAgICAgICAgICAgICBkZWxldGUgdXNlckNvcHkudHlwZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICByZXR1cm4gZGF0YWJhc2UuYWRkVXNlcih1c2VyQ29weSk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBuZXdVc2VyID0gX2NvbnRleHQyLnNlbnQ7CiAgICAgICAgICAgICAgICBjb21taXQoTVVUQVRJT05fVFlQRS5SRUdJU1RSQVRJT04sIG5ld1VzZXIpOwogICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXIiLCBKU09OLnN0cmluZ2lmeShuZXdVc2VyKSk7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzZXRVc2VyRnJvbUxvY2FsU3RvcmFnZTogZnVuY3Rpb24gc2V0VXNlckZyb21Mb2NhbFN0b3JhZ2UoX3JlZjMsIHVzZXIpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgY29tbWl0KE1VVEFUSU9OX1RZUEUuU0VUX1VTRVJfRlJPTV9TVE9SQUdFLCB1c2VyKTsKICAgIH0sCiAgICBzZWFyY2hDb250YWN0VXNlcnM6IGZ1bmN0aW9uIHNlYXJjaENvbnRhY3RVc2VycyhfcmVmNCwgX3JlZjUpIHsKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIGNvbW1pdCwgc3RyaW5nLCB1c2VySWQsIGFsbFVzZXJzLCBjb250YWN0cywgdXNlcnM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY0LmNvbW1pdDsKICAgICAgICAgICAgICAgIHN0cmluZyA9IF9yZWY1LnN0cmluZywgdXNlcklkID0gX3JlZjUudXNlcklkOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIGRhdGFiYXNlLmdldEFsbFVzZXJzKCk7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGFsbFVzZXJzID0gX2NvbnRleHQzLnNlbnQ7CiAgICAgICAgICAgICAgICBjb250YWN0cyA9IHVzZXJzV2l0aG91dENsaWVudChhbGxVc2VycywgdXNlcklkKTsKCiAgICAgICAgICAgICAgICBpZiAoIXN0cmluZykgewogICAgICAgICAgICAgICAgICBjb21taXQoTVVUQVRJT05fVFlQRS5VU0VSU19BRlRFUl9TRUFSQ0gsIGNvbnRhY3RzKTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIHVzZXJzID0gc2VhcmNoQ29udGFjdFVzZXIoY29udGFjdHMsIHN0cmluZyk7CiAgICAgICAgICAgICAgICAgIGNvbW1pdChNVVRBVElPTl9UWVBFLlVTRVJTX0FGVEVSX1NFQVJDSCwgdXNlcnMpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTMpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIG11dGF0aW9uczogKF9tdXRhdGlvbnMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIE1VVEFUSU9OX1RZUEUuVVNFUlNfQUZURVJfU0VBUkNILCBmdW5jdGlvbiAoc3RhdGUsIHNlYXJjaGVkVXNlcnMpIHsKICAgIHN0YXRlLmNvbnRhY3RVc2Vyc1NlYXJjaGVkID0gc2VhcmNoZWRVc2VyczsKICB9KSwgX2RlZmluZVByb3BlcnR5KF9tdXRhdGlvbnMsIE1VVEFUSU9OX1RZUEUuU0VUX1VTRVJfRlJPTV9TVE9SQUdFLCBmdW5jdGlvbiAoc3RhdGUsIHVzZXIpIHsKICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogIH0pLCBfZGVmaW5lUHJvcGVydHkoX211dGF0aW9ucywgTVVUQVRJT05fVFlQRS5DT05UQUNUX1VTRVJTLCBmdW5jdGlvbiAoc3RhdGUsIGNvbnRhY3RzKSB7CiAgICBzdGF0ZS5jb250YWN0VXNlcnNMaXN0ID0gY29udGFjdHM7CiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBNVVRBVElPTl9UWVBFLlJFR0lTVFJBVElPTiwgZnVuY3Rpb24gKHN0YXRlLCB1c2VyKSB7CiAgICBzdGF0ZS51c2VyID0gdXNlcjsKICAgIHN0YXRlLmxvZ2luRmFpbGVkID0gZmFsc2U7CiAgfSksIF9kZWZpbmVQcm9wZXJ0eShfbXV0YXRpb25zLCBNVVRBVElPTl9UWVBFLkxPR0lOLCBmdW5jdGlvbiAoc3RhdGUsIHVzZXIpIHsKICAgIHN0YXRlLnVzZXIgPSB1c2VyOwogICAgc3RhdGUucmVnaXN0ZXJlZCA9IHRydWU7CiAgfSksIF9tdXRhdGlvbnMpLAogIHN0YXRlOiB7CiAgICBhdXRoOiBmYWxzZSwKICAgIGxvZ2luRmFpbGVkOiBudWxsLAogICAgdXNlcjoge30sCiAgICBjb250YWN0VXNlcnNMaXN0OiBbXSwKICAgIGNvbnRhY3RVc2Vyc1NlYXJjaGVkOiBbXQogIH0sCiAgZ2V0dGVyczogewogICAgdXNlcklkOiBmdW5jdGlvbiB1c2VySWQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnVzZXIudXNlcklkOwogICAgfSwKICAgIHJlZ2lzdGVyZWQ6IGZ1bmN0aW9uIHJlZ2lzdGVyZWQoc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLnJlZ2lzdGVyZWQ7CiAgICB9LAogICAgbG9naW5GYWlsZWQ6IGZ1bmN0aW9uIGxvZ2luRmFpbGVkKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5sb2dpbkZhaWxlZDsKICAgIH0sCiAgICBjb250YWN0VXNlcnNMaXN0OiBmdW5jdGlvbiBjb250YWN0VXNlcnNMaXN0KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5jb250YWN0VXNlcnNMaXN0OwogICAgfSwKICAgIGNvbnRhY3RVc2Vyc1NlYXJjaGVkTGlzdDogZnVuY3Rpb24gY29udGFjdFVzZXJzU2VhcmNoZWRMaXN0KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5jb250YWN0VXNlcnNTZWFyY2hlZDsKICAgIH0KICB9Cn07"},{"version":3,"sources":["C:/Users/justc/Desktop/front/WEB SOCKET/websocket/src/store/modules/user.js"],"names":["uniqueId","findUser","usersWithoutClient","database","searchContactUser","MUTATION_TYPE","REGISTRATION","LOGIN","CONTACT_USERS","SET_USER_FROM_STORAGE","USERS_AFTER_SEARCH","user","actions","login","commit","getAllUsers","allUsers","userIsRegistered","localStorage","setItem","JSON","stringify","registration","userCopy","userId","icon","type","addUser","newUser","setUserFromLocalStorage","searchContactUsers","string","contacts","users","mutations","state","searchedUsers","contactUsersSearched","contactUsersList","loginFailed","registered","auth","getters","contactUsersSearchedList"],"mappings":"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","sourcesContent":["import {uniqueId, findUser, usersWithoutClient} from \"./functions/userFunctions\";\r\nimport {database} from \"../../../../websocket_server/database/api\";\r\nimport {searchContactUser} from \"./functions/userFunctions\";\r\n\r\nconst MUTATION_TYPE = {\r\n    REGISTRATION: \"REGISTRATION\",\r\n    LOGIN: \"LOGIN\",\r\n    CONTACT_USERS: \"CONTACT_USERS\",\r\n    SET_USER_FROM_STORAGE: \"SET_USER_FROM_STORAGE\",\r\n    USERS_AFTER_SEARCH: \"USERS_AFTER_SEARCH\"\r\n}\r\nexport const user = {\r\n    actions: {\r\n        async login({commit}, user) {\r\n            const allUsers = await database.getAllUsers()\r\n            const userIsRegistered = findUser(allUsers, user)\r\n            if (userIsRegistered) {\r\n                localStorage.setItem(\"user\", JSON.stringify(userIsRegistered))\r\n                commit(MUTATION_TYPE.LOGIN, userIsRegistered)\r\n            }\r\n        },\r\n\r\n        async registration({commit}, user) {\r\n            const allUsers = await database.getAllUsers()\r\n            const userIsRegistered = findUser(allUsers, user)\r\n            if (userIsRegistered) {\r\n                commit(MUTATION_TYPE.LOGIN, userIsRegistered)\r\n                localStorage.setItem(\"user\", JSON.stringify(userIsRegistered))\r\n            } else {\r\n                const userCopy = {...user};\r\n                userCopy.userId = uniqueId()\r\n                userCopy.icon = \"https://s14.stc.yc.kpcdn.net/share/i/12/12189520/wr-960.webp\"\r\n                delete userCopy.type\r\n                const newUser = await database.addUser(userCopy)\r\n                commit(MUTATION_TYPE.REGISTRATION, newUser)\r\n                localStorage.setItem(\"user\", JSON.stringify(newUser))\r\n            }\r\n        },\r\n\r\n        setUserFromLocalStorage({commit}, user) {\r\n            commit(MUTATION_TYPE.SET_USER_FROM_STORAGE, user)\r\n        },\r\n        async searchContactUsers({commit}, {string, userId}) {\r\n            const allUsers = await database.getAllUsers()\r\n            const contacts = usersWithoutClient(allUsers, userId)\r\n            if (!string) {\r\n                commit(MUTATION_TYPE.USERS_AFTER_SEARCH, contacts)\r\n            } else {\r\n                const users = searchContactUser(contacts, string)\r\n                commit(MUTATION_TYPE.USERS_AFTER_SEARCH, users)\r\n            }\r\n        }\r\n    },\r\n    mutations: {\r\n        [MUTATION_TYPE.USERS_AFTER_SEARCH](state, searchedUsers) {\r\n            state.contactUsersSearched = searchedUsers\r\n        },\r\n        [MUTATION_TYPE.SET_USER_FROM_STORAGE](state, user) {\r\n            state.user = user\r\n        },\r\n\r\n        [MUTATION_TYPE.CONTACT_USERS](state, contacts) {\r\n            state.contactUsersList = contacts\r\n        },\r\n        [MUTATION_TYPE.REGISTRATION](state, user) {\r\n            state.user = user\r\n            state.loginFailed = false\r\n        },\r\n        [MUTATION_TYPE.LOGIN](state, user) {\r\n            state.user = user\r\n            state.registered = true\r\n        },\r\n    },\r\n    state: {\r\n        auth: false,\r\n        loginFailed: null,\r\n        user: {},\r\n        contactUsersList: [],\r\n        contactUsersSearched: [],\r\n    },\r\n    getters: {\r\n        userId: state => state.user.userId,\r\n        registered: state => state.registered,\r\n        loginFailed: state => state.loginFailed,\r\n        contactUsersList: state => state.contactUsersList,\r\n        contactUsersSearchedList: state => state.contactUsersSearched\r\n    },\r\n}"]}]}